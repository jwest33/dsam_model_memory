<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dual-Space Agentic Memory System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/synthwave-theme.css') }}">
    <!-- Vis.js for graph visualization -->
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <!-- Chart.js for residual visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Custom styles for dynamic modal height -->
    <style>
        /* Make the graph modal use full viewport height */
        #memoryGraphModal .modal-dialog {
            height: 100vh;
            margin: 0;
            max-width: 100%;
        }
        
        #memoryGraphModal .modal-content {
            height: 100%;
            border-radius: 0;
        }
        
        #memoryGraphModal .modal-body {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 60px); /* Account for modal header */
            padding: 1rem !important;
            overflow: hidden; /* Prevent expansion */
        }
        
        /* Make the graph container responsive with fixed constraints */
        #memoryGraph {
            width: 100%;
            height: 100%;
            max-height: calc(100vh - 200px); /* Prevent infinite growth */
            overflow: hidden; /* No scrollbars on graph */
        }
        
        /* Ensure proper scrolling on the info panel */
        .graph-info-panel {
            max-height: 100%;
            overflow-y: auto;
        }
        
        /* Dimension weight visualization styles */
        .dimension-weight {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 0.25rem;
            min-width: 120px;
        }
        
        .dimension-weight i {
            color: var(--cyan);
            font-size: 0.9rem;
        }
        
        .dimension-bar {
            flex: 1;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
            position: relative;
        }
        
        .dimension-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--cyan), var(--purple));
            transition: width 0.3s ease;
            border-radius: 2px;
        }
        
        .dimension-value {
            font-size: 0.75rem;
            color: var(--cyan);
            min-width: 35px;
            text-align: right;
        }
        
        #actorWeight .dimension-fill { background: linear-gradient(90deg, #ff6b6b, #ff8787); }
        #temporalWeight .dimension-fill { background: linear-gradient(90deg, #4ecdc4, #6ee7de); }
        #conceptualWeight .dimension-fill { background: linear-gradient(90deg, #f7b731, #ffd93d); }
        #spatialWeight .dimension-fill { background: linear-gradient(90deg, #5f27cd, #8854d0); }
        
        .dominant-dimension {
            border: 1px solid var(--cyan);
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }
<<<<<<< HEAD
        
        /* Expandable merge group styles */
        .merge-group-expand-link {
            cursor: pointer;
            transition: color 0.2s ease;
        }
        
        .merge-group-expand-link:hover {
            color: var(--purple) !important;
            text-decoration: underline !important;
        }
        
        .merge-group-expand-link i {
            transition: transform 0.2s ease;
        }
        
        .merge-group-extra-row {
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
=======
>>>>>>> 592e91b67bc5d7e9207c23ad123f482137168f02
    </style>
</head>
<body>
    <nav class="navbar navbar-dark">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">
                <span class="badge bg-purple ms-2">[DSAM]</span>
                <i class="bi bi-brain"></i> Dual-Space Agentic Memory
            </span>
            <div class="navbar-text">
                <span class="badge bg-info me-2" id="euclideanBadge">
                    <i class="bi bi-grid-3x3"></i> Euclidean
                </span>
                <span class="badge bg-warning" id="hyperbolicBadge">
                    <i class="bi bi-diagram-3"></i> Hyperbolic
                </span>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <div class="card main-card">
            <div class="card-header p-0">
                <ul class="nav nav-tabs nav-fill" id="mainTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active rounded-0" id="chat-tab" data-bs-toggle="tab" data-bs-target="#chat" type="button" role="tab">
                            <i class="bi bi-chat-dots"></i> Chat Interface
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link rounded-0" id="memory-tab" data-bs-toggle="tab" data-bs-target="#memory" type="button" role="tab">
                            <i class="bi bi-table"></i> Memory Store
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link rounded-0" id="analytics-tab" data-bs-toggle="tab" data-bs-target="#analytics" type="button" role="tab">
                            <i class="bi bi-graph-up"></i> Analytics
                        </button>
                    </li>
                </ul>
                <!-- Raw/Merged View Toggle (positioned below Memory Store tab) -->
                <div id="memoryViewTabs" style="display: none; padding: 0; background: transparent;">
                    <div class="memory-view-tabs-container" style="transition: all 0.3s ease; display: inline-block;">
                        <ul class="nav" role="tablist" style="border: none; display: flex;">
                            <li class="nav-item" role="presentation" style="width: 50%;">
                                <input type="radio" class="btn-check" name="viewMode" id="mergedView" autocomplete="off" checked>
                                <label class="nav-link active rounded-0" for="mergedView" style="cursor: pointer; padding: 0.5rem 0.75rem; text-align: center; width: 100%; font-size: 0.9rem; border: 1px solid var(--bs-nav-tabs-border-color); border-top: none;">
                                    <i class="bi bi-layers"></i> Merged
                                </label>
                            </li>
                            <li class="nav-item" role="presentation" style="width: 50%;">
                                <input type="radio" class="btn-check" name="viewMode" id="rawView" autocomplete="off">
                                <label class="nav-link rounded-0" for="rawView" style="cursor: pointer; padding: 0.5rem 0.75rem; text-align: center; width: 100%; font-size: 0.9rem; border: 1px solid var(--bs-nav-tabs-border-color); border-top: none;">
                                    <i class="bi bi-file-earmark"></i> Raw <span class="badge bg-secondary ms-1" id="rawCount" style="font-size: 0.7rem;">0</span>
                                </label>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <div class="tab-content" id="mainTabContent">
                    <!-- Chat Tab -->
                    <div class="tab-pane fade show active" id="chat" role="tabpanel">
                        <div class="chat-container">
                            <div class="chat-header mb-3">
                                <div class="d-flex justify-content-between align-items-center">
                                    <h5 class="mb-0 text-cyan">Chat with AI Assistant</h5>
                                    <div class="query-type-indicator">
                                        <small class="text-muted">Query Type:</small>
                                        <span id="queryTypeIndicator" class="badge bg-secondary ms-2">Balanced</span>
                                    </div>
                                </div>
                                <!-- Dimension Weights Display -->
                                <div id="dimensionWeightsContainer" class="mt-2" style="display: none;">
                                    <small class="text-muted">Dimension Focus:</small>
                                    <div class="d-flex gap-2 mt-1">
                                        <div class="dimension-weight" id="actorWeight" title="Actor dimension">
                                            <i class="bi bi-person-circle"></i>
                                            <div class="dimension-bar">
                                                <div class="dimension-fill" style="width: 0%"></div>
                                            </div>
                                            <span class="dimension-value">0%</span>
                                        </div>
                                        <div class="dimension-weight" id="temporalWeight" title="Temporal dimension">
                                            <i class="bi bi-clock-history"></i>
                                            <div class="dimension-bar">
                                                <div class="dimension-fill" style="width: 0%"></div>
                                            </div>
                                            <span class="dimension-value">0%</span>
                                        </div>
                                        <div class="dimension-weight" id="conceptualWeight" title="Conceptual dimension">
                                            <i class="bi bi-lightbulb"></i>
                                            <div class="dimension-bar">
                                                <div class="dimension-fill" style="width: 0%"></div>
                                            </div>
                                            <span class="dimension-value">0%</span>
                                        </div>
                                        <div class="dimension-weight" id="spatialWeight" title="Spatial dimension">
                                            <i class="bi bi-geo-alt"></i>
                                            <div class="dimension-bar">
                                                <div class="dimension-fill" style="width: 0%"></div>
                                            </div>
                                            <span class="dimension-value">0%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="chat-window" id="chatContainer">
                                <div id="chatMessages"></div>
                            </div>
                            <div class="chat-input-area mt-3">
                                <form id="chatForm">
                                    <div class="input-group">
                                        <input type="text" class="form-control" id="chatInput" placeholder="Type your message..." required>
                                        <button class="btn btn-primary" type="submit">
                                            <i class="bi bi-send"></i> Send
                                        </button>
                                    </div>
                                </form>
                                <!-- <div class="mt-2">
                                    <small class="text-muted">Tip: Concrete questions use Euclidean space, abstract questions use Hyperbolic space</small>
                                </div> -->
                            </div>
                        </div>
                    </div>

                    <!-- Memory Tab -->
                    <div class="tab-pane fade" id="memory" role="tabpanel">
                        <div class="memory-container">
                            
                            <!-- Merge Dimension Selector (styled like view toggle but smaller) -->
                            <div class="merge-dimension-selector mb-3">
                                <ul class="nav nav-tabs" role="tablist" style="display: flex; flex-wrap: nowrap;">
                                    <li class="nav-item flex-fill" role="presentation">
                                        <button type="button" class="nav-link active w-100" data-dimension="temporal" onclick="switchMergeDimension('temporal')" style="cursor: pointer; padding: 0.3rem 0.5rem; font-size: 0.65rem;">
                                            <i class="bi bi-clock-history"></i> Temporal
                                            <span class="badge bg-secondary ms-1" id="temporal-count" style="font-size: 0.55rem;">0</span>
                                        </button>
                                    </li>
                                    <li class="nav-item flex-fill" role="presentation">
                                        <button type="button" class="nav-link w-100" data-dimension="actor" onclick="switchMergeDimension('actor')" style="cursor: pointer; padding: 0.3rem 0.5rem; font-size: 0.65rem;">
                                            <i class="bi bi-person-circle"></i> Actor
                                            <span class="badge bg-secondary ms-1" id="actor-count" style="font-size: 0.55rem;">0</span>
                                        </button>
                                    </li>
                                    <li class="nav-item flex-fill" role="presentation">
                                        <button type="button" class="nav-link w-100" data-dimension="conceptual" onclick="switchMergeDimension('conceptual')" style="cursor: pointer; padding: 0.3rem 0.5rem; font-size: 0.65rem;">
                                            <i class="bi bi-lightbulb"></i> Conceptual
                                            <span class="badge bg-secondary ms-1" id="conceptual-count" style="font-size: 0.55rem;">0</span>
                                        </button>
                                    </li>
                                    <li class="nav-item flex-fill" role="presentation">
                                        <button type="button" class="nav-link w-100" data-dimension="spatial" onclick="switchMergeDimension('spatial')" style="cursor: pointer; padding: 0.3rem 0.5rem; font-size: 0.65rem;">
                                            <i class="bi bi-geo-alt"></i> Spatial
                                            <span class="badge bg-secondary ms-1" id="spatial-count" style="font-size: 0.55rem;">0</span>
                                        </button>
                                    </li>
                                </ul>
                                <div class="dimension-description text-muted small mt-2" id="dimension-description">
                                    Groups conversation threads and sequential actions
                                </div>
                            </div>
                            
                            <!-- Search Bar with Space Indicator -->
                            <div class="search-section mb-3">
                                <div class="row">
                                    <div class="col-md-8">
                                        <div class="input-group">
                                            <input type="text" class="form-control search-box" id="memorySearch" placeholder="Search memories...">
                                            <button class="btn btn-outline-secondary" type="button" onclick="performSearch()">
                                                <i class="bi bi-search"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-md-2">
                                        <button class="btn btn-outline-info w-100" onclick="showCreateMemoryModal()">
                                            <i class="bi bi-plus-circle"></i> New Memory
                                        </button>
                                    </div>
                                    <div class="col-md-2">
                                        <button class="btn btn-outline-info w-100" onclick="showMemoryGraph()">
                                            <i class="bi bi-diagram-3"></i> Graph View
                                        </button>
                                    </div>
                                </div>
                            </div>
                    
                            <!-- Memory Store Display with Residual Indicators -->
                            <div class="memory-display-section">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <h5 class="mb-0 text-cyan">Memory Store</h5>
                                    <div class="d-flex align-items-center gap-2">
                                        <span class="badge bg-dark me-2">
                                            <i class="bi bi-collection"></i> 
                                            <span id="totalMemories">0</span> memories
                                        </span>
                                        <span class="badge bg-dark me-2">
                                            <i class="bi bi-arrow-repeat"></i> 
                                            <span id="adaptedMemories">0</span> adapted
                                        </span>
                                        <button class="btn btn-sm btn-outline-accent" onclick="loadMemories()">
                                            <i class="bi bi-arrow-clockwise"></i> Refresh
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Pagination Info -->
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <div class="text-muted">
                                        Showing <span id="showingStart">0</span> - <span id="showingEnd">0</span> of <span id="totalMemoriesInfo">0</span> memories
                                    </div>
                                </div>
                                
                                <!-- Memory List (for card view) -->
                                <div id="memoryList" class="memory-list">
                                    <!-- Memory cards will be loaded here -->
                                </div>
                                
                                <!-- Memory Table with Enhanced Columns -->
                                <div class="table-responsive" id="memoryTableContainer">
                                    <table class="table table-dark table-hover" id="memoryTable">
                                        <thead>
                                            <tr>
                                                <th class="sortable resizable" data-field="who" onclick="sortTable('who')">
                                                    Who <i class="bi bi-arrow-down-up sort-icon"></i>
                                                    <div class="resize-handle"></div>
                                                </th>
                                                <th class="sortable resizable" data-field="what" onclick="sortTable('what')">
                                                    What <i class="bi bi-arrow-down-up sort-icon"></i>
                                                    <div class="resize-handle"></div>
                                                </th>
                                                <th class="sortable resizable" data-field="when" onclick="sortTable('when')">
                                                    When <i class="bi bi-arrow-down-up sort-icon"></i>
                                                    <div class="resize-handle"></div>
                                                </th>
                                                <th class="sortable resizable" data-field="where" onclick="sortTable('where')">
                                                    Where <i class="bi bi-arrow-down-up sort-icon"></i>
                                                    <div class="resize-handle"></div>
                                                </th>
                                                <th class="sortable resizable" data-field="why" onclick="sortTable('why')">
                                                    Why <i class="bi bi-arrow-down-up sort-icon"></i>
                                                    <div class="resize-handle"></div>
                                                </th>
                                                <th class="sortable resizable" data-field="how" onclick="sortTable('how')">
                                                    How <i class="bi bi-arrow-down-up sort-icon"></i>
                                                    <div class="resize-handle"></div>
                                                </th>
                                                <th class="sortable resizable" data-field="spaceWeight" onclick="sortTable('spaceWeight')">
                                                    Space Weight <i class="bi bi-arrow-down-up sort-icon"></i>
                                                    <div class="resize-handle"></div>
                                                </th>
                                                <th class="sortable" data-field="residual_norm" onclick="sortTable('residual_norm')">
                                                    Residual <i class="bi bi-arrow-down-up sort-icon"></i>
                                                </th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="memoryTableBody">
                                            <!-- Memories will be loaded here -->
                                        </tbody>
                                    </table>
                                </div>

                                <!-- Pagination -->
                                <nav aria-label="Memory pagination">
                                    <ul class="pagination justify-content-center" id="memoryPagination">
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>

                    <!-- New Analytics Tab -->
                    <div class="tab-pane fade" id="analytics" role="tabpanel">
                        <div class="analytics-container" style="max-height: calc(100vh - 200px); overflow-y: auto; overflow-x: hidden;">
                            <div class="row mb-3">
                                <div class="col-lg-3 col-md-6 mb-2">
                                    <div class="card bg-dark border-info">
                                        <div class="card-body">
                                            <h6 class="card-title text-info">Total Events</h6>
                                            <h3 class="text-white" id="statTotalEvents">0</h3>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-6 mb-2">
                                    <div class="card bg-dark border-warning">
                                        <div class="card-body">
                                            <h6 class="card-title text-warning">Total Queries</h6>
                                            <h3 class="text-white" id="statTotalQueries">0</h3>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-6 mb-2">
                                    <div class="card bg-dark border-success">
                                        <div class="card-body">
                                            <h6 class="card-title text-success">Avg Euclidean Residual</h6>
                                            <h3 class="text-white" id="statAvgEuclidean">0.000</h3>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-6 mb-2">
                                    <div class="card bg-dark border-purple">
                                        <div class="card-body">
                                            <h6 class="card-title text-purple">Avg Hyperbolic Residual</h6>
                                            <h3 class="text-white" id="statAvgHyperbolic">0.000</h3>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-lg-6 mb-3">
                                    <div class="card bg-dark">
                                        <div class="card-header">
                                            <h6 class="mb-0 text-cyan">Residual Evolution</h6>
                                        </div>
                                        <div class="card-body" style="padding: 10px;">
                                            <div style="max-height: 250px; position: relative; display: flex; justify-content: center; align-items: center;">
                                                <canvas id="residualChart"></canvas>
                                            </div>
                                            <div class="mt-2 text-center">
                                                <!-- Empty spacer to match pie chart height -->
                                                <small class="text-muted">&nbsp;</small><br>
                                                <span style="visibility: hidden;">&nbsp;</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 mb-3">
                                    <div class="card bg-dark">
                                        <div class="card-header">
                                            <h6 class="mb-0 text-cyan">Space Usage Distribution</h6>
                                        </div>
                                        <div class="card-body" style="padding: 10px;">
                                            <div style="max-height: 250px; position: relative; display: flex; justify-content: center; align-items: center;">
                                                <canvas id="spaceUsageChart"></canvas>
                                            </div>
                                            <div class="mt-2 text-center" id="spaceWeightAverages">
                                                <small class="text-muted">Average Space Weights:</small><br>
                                                <span class="badge bg-info">Euclidean: <span id="avgLambdaE">0.50</span></span>
                                                <span class="badge bg-warning">Hyperbolic: <span id="avgLambdaH">0.50</span></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Memory Graph Modal -->
    <div class="modal fade" id="memoryGraphModal" tabindex="-1">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="bi bi-diagram-3"></i> Memory Graph Visualization
                        <span class="badge bg-info ms-2" id="graphSpaceIndicator">Dual-Space</span>
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <!-- Graph Controls -->
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <label for="gravitySlider" class="form-label text-cyan">
                                Graph Layout
                            </label>
                            <div class="d-flex align-items-center">
                                <small class="text-muted me-2">Compact</small>
                                <input type="range" class="form-range" id="gravitySlider" 
                                       min="1000" max="50000" step="1000" value="8000">
                                <small class="text-muted ms-2">Spread Out</small>
                            </div>
                            <small class="text-muted d-block mt-1">Adjust spacing between memory nodes</small>
                        </div>
                    </div>
                    
                    <!-- Graph and Info Panel -->
                    <div class="row flex-grow-1" style="min-height: 0; max-height: calc(100vh - 250px); overflow: hidden;">
                        <div class="col-lg-9 d-flex" style="height: 100%;">
                            <div id="memoryGraph" style="width: 100%; height: 100%; border: 1px solid #6f42c1;"></div>
                        </div>
                        <div class="col-lg-3 d-flex" style="height: 100%;">
                            <div class="card bg-dark border-purple flex-grow-1 graph-info-panel" style="height: 100%;">
                                <div class="card-body h-100 d-flex flex-column">
                                    <!-- Graph Statistics -->
                                    <div id="graphStats" class="mb-3">
                                        <h6 class="text-cyan mb-2">Graph Statistics</h6>
                                        <div class="small">
                                            <div class="d-flex justify-content-between mb-1">
                                                <span class="text-muted">Nodes:</span>
                                                <span class="text-light" id="nodeCount">0</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-1">
                                                <span class="text-muted">Edges:</span>
                                                <span class="text-light" id="edgeCount">0</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-1">
                                                <span class="text-muted">Clusters:</span>
                                                <span class="text-light" id="clusterCount">0</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-1">
                                                <span class="text-muted">Avg Degree:</span>
                                                <span class="text-light" id="avgDegree">0.0</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    
                                    <!-- Selected Node Details -->
                                    <div id="nodeDetails" class="flex-grow-1 overflow-auto">
                                        <h6 class="text-cyan mb-2">Selected Memory</h6>
                                        <div id="nodeDetailsContent" class="text-light small">
                                            <em class="text-muted">Click a node to view details</em>
                                        </div>
                                    </div>
                                    
                                    <hr class="border-purple mt-auto">
                                    
                                    <!-- Space Weights -->
                                    <div id="spaceWeights">
                                        <h6 class="text-cyan mb-2">Space Weights</h6>
                                        <div class="progress mb-2" style="height: 20px;">
                                            <div class="progress-bar bg-info" id="euclideanWeight" style="width: 50%">
                                                Euclidean: 50%
                                            </div>
                                            <div class="progress-bar bg-warning" id="hyperbolicWeight" style="width: 50%">
                                                Hyperbolic: 50%
                                            </div>
                                        </div>
                                        <small class="text-muted">Based on selected components</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Memory Modal -->
    <div class="modal fade" id="createMemoryModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="bi bi-plus-circle"></i> Create New Memory
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="createMemoryForm">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="memWho" class="form-label">Who</label>
                                <input type="text" class="form-control" id="memWho" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="memWhat" class="form-label">What</label>
                                <input type="text" class="form-control" id="memWhat" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="memWhen" class="form-label">When</label>
                                <input type="text" class="form-control" id="memWhen">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="memWhere" class="form-label">Where</label>
                                <input type="text" class="form-control" id="memWhere">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="memWhy" class="form-label">Why</label>
                                <input type="text" class="form-control" id="memWhy">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="memHow" class="form-label">How</label>
                                <input type="text" class="form-control" id="memHow">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Expected Space Usage</label>
                            <div class="progress" style="height: 25px;">
                                <div class="progress-bar bg-info" id="expectedEuclidean" style="width: 50%">
                                    Euclidean
                                </div>
                                <div class="progress-bar bg-warning" id="expectedHyperbolic" style="width: 50%">
                                    Hyperbolic
                                </div>
                            </div>
                            <small class="text-muted">Based on field content</small>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="createMemory()">Create Memory</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Required libraries for enhanced features -->
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Load enhanced JS directly (now includes pagination functionality) -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
